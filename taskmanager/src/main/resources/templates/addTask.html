<!DOCTYPE html>
<html lang="en"
	  xmlns="http://www.w3.org/1999/xhtml"
	  xmlns:th="https://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
	<title>TaskManager</title>
</head>
<body>
<h1>Register new Task</h1>
<form id = "registerTaskForm"
	th:action="@{'/projects/'+${project.id}+'/task/add'}"
	th:object="${taskForm}"
	method="POST">

	<table>
		<tr>
			<td><label for="taskNameInput">Task Name</label></td>
			<td><input id=taskNameInput type="text" placeholder="NAME" th:field="*{name}"/></td>
			<td th:if="${#fields.hasErrors('name')}" th:errors="*{name}" th:style="'color:red'"></td>

		</tr>
		<tr>
			<td><label for="taskDescriptionInput">Description</label></td>
			<td><input id="taskDescriptionInput" placeholder="DESCRIPTION" th:field="*{description}"/></td>
			<td th:if="${#fields.hasErrors('description')}" th:errors="*{description}" th:style="'color:red'"></td>
		</tr>
		
		<tr>
			<td>  <label for="taskUserInput">Scegli l'utente al quale associare il task:</label></td>
			<td>
       		<select th:field="${taskForm.user}">
            <option th:each="user : ${shareUsers}"
                    th:value="${user.id}"
                    th:text="${user.firstName} + ' ' + ${user.lastName}">
            </option>
        </select>
        </td>
		</tr>
		<tr>
			<td><button type="submit">Register</button></td>
		</tr>
	</table>
	</form>
<br>
<h4 th:text="'Questo task verrÃ  associato al progetto: '+${project.name}" style="color:grey">Aia</h4>
</body>
</html>